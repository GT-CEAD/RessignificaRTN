"0","#######################Melhorar"
"0","# 1- Implementar função que faça a carga das rubricas a partir de uma lista hierárquica"
"0","load(""todas_series.Rdata"")"
"0","serie_trabalho <- series_temporais_analise[grep(""VI. PRIM"",series_temporais_analise$Rubrica),]"
"0","serie_trabalho <- rbind(serie_trabalho,series_temporais_analise[grep(""III. RECEITA"",series_temporais_analise$Rubrica),])"
"0","serie_trabalho <- rbind(serie_trabalho,series_temporais_analise[grep(""IV. DESPESA TOTAL"",series_temporais_analise$Rubrica),])"
"0","serie_trabalho <- rbind(serie_trabalho,series_temporais_analise[grep(""V. FUNDO SOBERANO DO BRASIL"",series_temporais_analise$Rubrica),])"
"0","rm(series_temporais_analise) "
"0","ano_fim<-as.numeric(substr(serie_trabalho$Data[NROW(serie_trabalho)],1,4))"
"0","mes_fim<-as.numeric(substr(serie_trabalho$Data[NROW(serie_trabalho)],6,7))"
"0","ts_serie_trabalho_prim <- ts(serie_trabalho$Valor[grep(""VI. PRIM"",serie_trabalho$Rubrica)],start = c(1997,1),end = c(ano_fim,mes_fim),frequency = 12)"
"0","ts_serie_trabalho_rec  <- ts(serie_trabalho$Valor[grep(""III. RECEITA"",serie_trabalho$Rubrica)],start = c(1997,1),end = c(ano_fim,mes_fim),frequency = 12)"
"0","ts_serie_trabalho_desp  <- ts(serie_trabalho$Valor[grep(""IV. DESPESA TOTAL"",serie_trabalho$Rubrica)],start = c(1997,1),end = c(ano_fim,mes_fim),frequency = 12)"
"0","ts_serie_trabalho_fsb  <- ts(serie_trabalho$Valor[grep(""V. FUNDO SOBERANO DO BRASIL"",serie_trabalho$Rubrica)],start = c(1997,1),end = c(ano_fim,mes_fim),frequency = 12)"
"0","ts_serie_trabalho_fsb[ts_serie_trabalho_fsb==0]<-NA"
"0","save(list = ls(),file = ""serie_trabalho_prim.Rdata"")"
"0","y_min <- min(as.numeric(serie_trabalho$Valor))"
"0","y_max <- max(as.numeric(serie_trabalho$Valor))"
"0","rm(serie_trabalho)"
"0","series <-cbind(ts_serie_trabalho_prim,ts_serie_trabalho_rec,ts_serie_trabalho_desp,ts_serie_trabalho_fsb)"
"0","library(dygraphs) #Série temporal dinâmica"
"0","dygraph(series,main = ""Resultado Primário - Governo central"") %>%"
"0","  dyRangeSelector() %>%"
"0","  dyAxis(name= ""y"",valueRange = c(y_min,y_max)) %>%"
"0","  dySeries(label = ""RP"") %>%"
"0","  dySeries(label = ""RL"") %>%"
"0","  dySeries(label = ""DT"") %>%"
"0","  dySeries(label = ""FSB"") %>%"
"0","  dyLegend(show = ""always"", hideOnMouseOut = TRUE, width = 400)%>%"
"0","  dyOptions( drawGrid = FALSE)%>%"
"0","  dyHighlight(highlightCircleSize = 5)"
